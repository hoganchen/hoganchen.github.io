<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Python," />










<meta name="description" content="常用User Agenthttp://blog.csdn.net/kang_tju/article/details/52563374http://blkstone.github.io/2016/03/02/crawler-anti-anti-cheat/https://www.waitig.com/python-%E7%88%AC%E8%99%AB%E4%B8%80%E4%BA%9B%E5%B">
<meta name="keywords" content="Python">
<meta property="og:type" content="article">
<meta property="og:title" content="python简单爬虫示例">
<meta property="og:url" content="http://yoursite.com/2018/06/11/python-spider-example/index.html">
<meta property="og:site_name" content="Hogan&#39;s Blog">
<meta property="og:description" content="常用User Agenthttp://blog.csdn.net/kang_tju/article/details/52563374http://blkstone.github.io/2016/03/02/crawler-anti-anti-cheat/https://www.waitig.com/python-%E7%88%AC%E8%99%AB%E4%B8%80%E4%BA%9B%E5%B">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2020-06-21T04:16:35.279Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="python简单爬虫示例">
<meta name="twitter:description" content="常用User Agenthttp://blog.csdn.net/kang_tju/article/details/52563374http://blkstone.github.io/2016/03/02/crawler-anti-anti-cheat/https://www.waitig.com/python-%E7%88%AC%E8%99%AB%E4%B8%80%E4%BA%9B%E5%B">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/06/11/python-spider-example/"/>





  <title>python简单爬虫示例 | Hogan's Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hogan's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/11/python-spider-example/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hogan Chen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hogan's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">python简单爬虫示例</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-06-11T16:21:20+08:00">
                2018-06-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <ol>

<h5 id="常用User-Agent"><a href="#常用User-Agent" class="headerlink" title="常用User Agent"></a>常用User Agent</h5><p><a href="http://blog.csdn.net/kang_tju/article/details/52563374" target="_blank" rel="noopener">http://blog.csdn.net/kang_tju/article/details/52563374</a><br><a href="http://blkstone.github.io/2016/03/02/crawler-anti-anti-cheat/" target="_blank" rel="noopener">http://blkstone.github.io/2016/03/02/crawler-anti-anti-cheat/</a><br><a href="https://www.waitig.com/python-%E7%88%AC%E8%99%AB%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E7%9A%84uauser-agent.html" target="_blank" rel="noopener">https://www.waitig.com/python-%E7%88%AC%E8%99%AB%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E7%9A%84uauser-agent.html</a><br><a href="https://www.zhihu.com/question/19553117" target="_blank" rel="noopener">https://www.zhihu.com/question/19553117</a></p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/User-Agent/Firefox" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/User-Agent/Firefox</a><br><a href="http://www.webapps-online.com/online-tools/user-agent-strings/dv/browser51854/firefox" target="_blank" rel="noopener">http://www.webapps-online.com/online-tools/user-agent-strings/dv/browser51854/firefox</a><br><a href="https://developers.whatismybrowser.com/useragents/explore/software_name/firefox/9" target="_blank" rel="noopener">https://developers.whatismybrowser.com/useragents/explore/software_name/firefox/9</a><br><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Browser_detection_using_the_user_agent" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Browser_detection_using_the_user_agent</a></p>
<p><a href="http://tools.jb51.net/table/useragent" target="_blank" rel="noopener">http://tools.jb51.net/table/useragent</a><br><a href="https://zhuanlan.zhihu.com/p/21252983" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/21252983</a><br><a href="http://www.gooseeker.com/doc/thread-1829-1-1.html" target="_blank" rel="noopener">http://www.gooseeker.com/doc/thread-1829-1-1.html</a><br><a href="http://www.skyfox.org/useragent.html" target="_blank" rel="noopener">http://www.skyfox.org/useragent.html</a><br><a href="http://blog.csdn.net/tao_627/article/details/42297443" target="_blank" rel="noopener">http://blog.csdn.net/tao_627/article/details/42297443</a><br><a href="http://blog.csdn.net/u012175089/article/details/61199238" target="_blank" rel="noopener">http://blog.csdn.net/u012175089/article/details/61199238</a><br><a href="https://www.bbsmax.com/A/GBJr7eZ950/" target="_blank" rel="noopener">https://www.bbsmax.com/A/GBJr7eZ950/</a><br><a href="https://www.bbsmax.com/A/Vx5MjWWgdN/" target="_blank" rel="noopener">https://www.bbsmax.com/A/Vx5MjWWgdN/</a><br><a href="http://www.361way.com/ieua/692.html" target="_blank" rel="noopener">http://www.361way.com/ieua/692.html</a><br><a href="http://www.jianshu.com/p/da6a44d0791e" target="_blank" rel="noopener">http://www.jianshu.com/p/da6a44d0791e</a><br><a href="http://blog.csdn.net/qianqianstd/article/details/52185488" target="_blank" rel="noopener">http://blog.csdn.net/qianqianstd/article/details/52185488</a><br><a href="http://www.360doc.com/content/12/1012/21/7662927_241124973.shtml" target="_blank" rel="noopener">http://www.360doc.com/content/12/1012/21/7662927_241124973.shtml</a><br><a href="http://blog.sina.com.cn/s/blog_9513526f0101pjvt.html" target="_blank" rel="noopener">http://blog.sina.com.cn/s/blog_9513526f0101pjvt.html</a><br><a href="http://www.966266.com/jishu/32.html" target="_blank" rel="noopener">http://www.966266.com/jishu/32.html</a><br><a href="http://www.cftea.com/c/2010/08/M3TS2JCPZ0IQOW60.asp" target="_blank" rel="noopener">http://www.cftea.com/c/2010/08/M3TS2JCPZ0IQOW60.asp</a><br><a href="http://techseo.cn/python/31.html" target="_blank" rel="noopener">http://techseo.cn/python/31.html</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">USER_AGENTS = [</span><br><span class="line">    &quot;Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; AcooBrowser; .NET CLR 1.1.4322; .NET CLR 2.0.50727)&quot;,</span><br><span class="line">    &quot;Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.0; Acoo Browser; SLCC1; .NET CLR 2.0.50727; Media Center PC 5.0; .NET CLR 3.0.04506)&quot;,</span><br><span class="line">    &quot;Mozilla/4.0 (compatible; MSIE 7.0; AOL 9.5; AOLBuild 4337.35; Windows NT 5.1; .NET CLR 1.1.4322; .NET CLR 2.0.50727)&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (Windows; U; MSIE 9.0; Windows NT 9.0; en-US)&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Win64; x64; Trident/5.0; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET CLR 2.0.50727; Media Center PC 6.0)&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET CLR 1.0.3705; .NET CLR 1.1.4322)&quot;,</span><br><span class="line">    &quot;Mozilla/4.0 (compatible; MSIE 7.0b; Windows NT 5.2; .NET CLR 1.1.4322; .NET CLR 2.0.50727; InfoPath.2; .NET CLR 3.0.04506.30)&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN) AppleWebKit/523.15 (KHTML, like Gecko, Safari/419.3) Arora/0.3 (Change: 287 c9dfb30)&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (X11; U; Linux; en-US) AppleWebKit/527+ (KHTML, like Gecko, Safari/419.3) Arora/0.6&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.2pre) Gecko/20070215 K-Ninja/2.1.1&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN; rv:1.9) Gecko/20080705 Firefox/3.0 Kapiko/3.0&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (X11; Linux i686; U;) Gecko/20070322 Kazehakase/0.4.5&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.8) Gecko Fedora/1.9.0.8-1.fc10 Kazehakase/0.5.6&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/535.11 (KHTML, like Gecko) Chrome/17.0.963.56 Safari/535.11&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_3) AppleWebKit/535.20 (KHTML, like Gecko) Chrome/19.0.1036.7 Safari/535.20&quot;,</span><br><span class="line">    &quot;Opera/9.80 (Macintosh; Intel Mac OS X 10.6.8; U; fr) Presto/2.9.168 Version/11.52&quot;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"># 随机生成user-agent</span><br><span class="line">class RandomUAMiddleware(object):</span><br><span class="line"></span><br><span class="line">    def process_request(self, request, spider):</span><br><span class="line">        request.headers[&quot;User-Agent&quot;]=random.choice(USER_AGENTS)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">USER_AGENTS = [</span><br><span class="line">    &quot;Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; AcooBrowser; .NET CLR 1.1.4322; .NET CLR 2.0.50727)&quot;,</span><br><span class="line">    &quot;Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.0; Acoo Browser; SLCC1; .NET CLR 2.0.50727; Media Center PC 5.0; .NET CLR 3.0.04506)&quot;,</span><br><span class="line">    &quot;Mozilla/4.0 (compatible; MSIE 7.0; AOL 9.5; AOLBuild 4337.35; Windows NT 5.1; .NET CLR 1.1.4322; .NET CLR 2.0.50727)&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (Windows; U; MSIE 9.0; Windows NT 9.0; en-US)&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Win64; x64; Trident/5.0; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET CLR 2.0.50727; Media Center PC 6.0)&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET CLR 1.0.3705; .NET CLR 1.1.4322)&quot;,</span><br><span class="line">    &quot;Mozilla/4.0 (compatible; MSIE 7.0b; Windows NT 5.2; .NET CLR 1.1.4322; .NET CLR 2.0.50727; InfoPath.2; .NET CLR 3.0.04506.30)&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN) AppleWebKit/523.15 (KHTML, like Gecko, Safari/419.3) Arora/0.3 (Change: 287 c9dfb30)&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (X11; U; Linux; en-US) AppleWebKit/527+ (KHTML, like Gecko, Safari/419.3) Arora/0.6&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.2pre) Gecko/20070215 K-Ninja/2.1.1&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN; rv:1.9) Gecko/20080705 Firefox/3.0 Kapiko/3.0&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (X11; Linux i686; U;) Gecko/20070322 Kazehakase/0.4.5&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.8) Gecko Fedora/1.9.0.8-1.fc10 Kazehakase/0.5.6&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/535.11 (KHTML, like Gecko) Chrome/17.0.963.56 Safari/535.11&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_3) AppleWebKit/535.20 (KHTML, like Gecko) Chrome/19.0.1036.7 Safari/535.20&quot;,</span><br><span class="line">    &quot;Opera/9.80 (Macintosh; Intel Mac OS X 10.6.8; U; fr) Presto/2.9.168 Version/11.52&quot;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">USER_AGENTS = [</span><br><span class="line">    &quot;Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; AcooBrowser; .NET CLR 1.1.4322; .NET CLR 2.0.50727)&quot;,</span><br><span class="line">    &quot;Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.0; Acoo Browser; SLCC1; .NET CLR 2.0.50727; Media Center PC 5.0; .NET CLR 3.0.04506)&quot;,</span><br><span class="line">    &quot;Mozilla/4.0 (compatible; MSIE 7.0; AOL 9.5; AOLBuild 4337.35; Windows NT 5.1; .NET CLR 1.1.4322; .NET CLR 2.0.50727)&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (Windows; U; MSIE 9.0; Windows NT 9.0; en-US)&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Win64; x64; Trident/5.0; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET CLR 2.0.50727; Media Center PC 6.0)&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET CLR 1.0.3705; .NET CLR 1.1.4322)&quot;,</span><br><span class="line">    &quot;Mozilla/4.0 (compatible; MSIE 7.0b; Windows NT 5.2; .NET CLR 1.1.4322; .NET CLR 2.0.50727; InfoPath.2; .NET CLR 3.0.04506.30)&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN) AppleWebKit/523.15 (KHTML, like Gecko, Safari/419.3) Arora/0.3 (Change: 287 c9dfb30)&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (X11; U; Linux; en-US) AppleWebKit/527+ (KHTML, like Gecko, Safari/419.3) Arora/0.6&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.2pre) Gecko/20070215 K-Ninja/2.1.1&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN; rv:1.9) Gecko/20080705 Firefox/3.0 Kapiko/3.0&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (X11; Linux i686; U;) Gecko/20070322 Kazehakase/0.4.5&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.8) Gecko Fedora/1.9.0.8-1.fc10 Kazehakase/0.5.6&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/535.11 (KHTML, like Gecko) Chrome/17.0.963.56 Safari/535.11&quot;,</span><br><span class="line">    &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_3) AppleWebKit/535.20 (KHTML, like Gecko) Chrome/19.0.1036.7 Safari/535.20&quot;,</span><br><span class="line">    &quot;Opera/9.80 (Macintosh; Intel Mac OS X 10.6.8; U; fr) Presto/2.9.168 Version/11.52&quot;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">if __name__==&quot;__main__&quot;:</span><br><span class="line">    def process_request(self, request, spider):</span><br><span class="line">        request.headers[&quot;User-Agent&quot;]=random.choice(USER_AGENTS)</span><br><span class="line"></span><br><span class="line">python 有一个现成的随机生成UA(user-agent)的第三方库：fake-useragent 直接：pip install</span><br><span class="line">fake-useragent 即可。 使用：</span><br><span class="line"></span><br><span class="line">    from fake_useragent import UserAgent</span><br><span class="line">       ua = UserAgnet()</span><br><span class="line">       ua.random</span><br></pre></td></tr></table></figure></p>
<a id="more"></a>
<h5 id="Urllib库详解"><a href="#Urllib库详解" class="headerlink" title="Urllib库详解"></a>Urllib库详解</h5><p><a href="http://www.bkjia.com/Pythonjc/1043449.html" target="_blank" rel="noopener">http://www.bkjia.com/Pythonjc/1043449.html</a><br><a href="http://blog.csdn.net/drdairen/article/details/51149498" target="_blank" rel="noopener">http://blog.csdn.net/drdairen/article/details/51149498</a><br><a href="http://www.bijishequ.com/detail/441751?p=" target="_blank" rel="noopener">http://www.bijishequ.com/detail/441751?p=</a></p>
<h5 id="简单爬虫"><a href="#简单爬虫" class="headerlink" title="简单爬虫"></a>简单爬虫</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">import urllib.request</span><br><span class="line"></span><br><span class="line">page_id = 19523</span><br><span class="line">pan_url = &apos;http://mebook.cc/download.php?id=&#123;&#125;&apos;.format(page_id)</span><br><span class="line">pan_url = &apos;http://mebook.cc/download.php?id=536&apos;</span><br><span class="line">pan_url = &apos;http://mebook.cc/page/1&apos;</span><br><span class="line">pan_url = &apos;http://mebook.cc/download.php?id=16835&apos;</span><br><span class="line"></span><br><span class="line">url_request = urllib.request.Request(pan_url)</span><br><span class="line">url_request.add_header(&apos;User-agent&apos;, &apos;Mozilla/5.0&apos;)</span><br><span class="line">url_open = urllib.request.urlopen(url_request)</span><br><span class="line">html_doc = url_open.read().decode(&apos;utf-8&apos;)</span><br><span class="line">print(html_doc)</span><br><span class="line"></span><br><span class="line">for page_index in range(1, 10):</span><br><span class="line">    pan_url = &apos;http://mebook.cc/page/&#123;&#125;&apos;.format(page_index)</span><br><span class="line">    url_request = urllib.request.Request(pan_url)</span><br><span class="line">    url_request.add_header(&apos;User-agent&apos;, &apos;Mozilla/5.0&apos;)</span><br><span class="line">    url_open = urllib.request.urlopen(url_request)</span><br><span class="line">    html_doc = url_open.read().decode(&apos;utf-8&apos;)</span><br><span class="line">    print(html_doc)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">import re</span><br><span class="line">import random</span><br><span class="line">import urllib.request</span><br><span class="line"></span><br><span class="line">pan_url = &apos;http://mebook.cc/&apos;</span><br><span class="line"></span><br><span class="line">UserAgentList = [&apos;Mozilla/5.0 (Windows NT 6.1; rv:28.0) Gecko/20100101 Firefox/28.0&apos;,</span><br><span class="line">                 &apos;Mozilla/5.0 (X11; Linux i686; rv:30.0) Gecko/20100101 Firefox/30.0&apos;,</span><br><span class="line">                 &apos;Mozilla/5.0 (Windows NT 5.1; rv:31.0) Gecko/20100101 Firefox/31.0&apos;,</span><br><span class="line">                 &apos;Mozilla/5.0 (Windows NT 6.1; WOW64; rv:33.0) Gecko/20100101 Firefox/33.0&apos;,</span><br><span class="line">                 &apos;Mozilla/5.0 (Windows NT 10.0; WOW64; rv:40.0) Gecko/20100101 Firefox/40.0&apos;,</span><br><span class="line">                 &apos;Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0)&apos;,</span><br><span class="line">                 &apos;Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0; SLCC2; Media Center PC 6.0; &apos;</span><br><span class="line">                 &apos;InfoPath.3; MS-RTC LM 8; Zune 4.7)&apos;,</span><br><span class="line">                 &apos;Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)&apos;,</span><br><span class="line">                 &apos;Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; WOW64; Trident/6.0)&apos;,</span><br><span class="line">                 &apos;Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Win64; x64; Trident/6.0)&apos;,</span><br><span class="line">                 &apos;Mozilla/5.0 (IE 11.0; Windows NT 6.3; Trident/7.0; .NET4.0E; .NET4.0C; rv:11.0) like Gecko&apos;,</span><br><span class="line">                 &apos;Mozilla/5.0 (IE 11.0; Windows NT 6.3; WOW64; Trident/7.0; Touch; rv:11.0) like Gecko&apos;,</span><br><span class="line">                 &apos;Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 &apos;</span><br><span class="line">                 &apos;(KHTML, like Gecko) Chrome/30.0.1599.101 Safari/537.36&apos;,</span><br><span class="line">                 &apos;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 &apos;</span><br><span class="line">                 &apos;(KHTML, like Gecko) Chrome/31.0.1623.0 Safari/537.36&apos;,</span><br><span class="line">                 &apos;Mozilla/5.0 (Windows NT 6.2; WOW64) AppleWebKit/537.36 &apos;</span><br><span class="line">                 &apos;(KHTML, like Gecko) Chrome/34.0.1847.116 Safari/537.36&apos;,</span><br><span class="line">                 &apos;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 &apos;</span><br><span class="line">                 &apos;(KHTML, like Gecko) Chrome/37.0.2062.103 Safari/537.36&apos;,</span><br><span class="line">                 &apos;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_2) AppleWebKit/537.36 &apos;</span><br><span class="line">                 &apos;(KHTML, like Gecko) Chrome/40.0.2214.38 Safari/537.36&apos;,</span><br><span class="line">                 &apos;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 &apos;</span><br><span class="line">                 &apos;(KHTML, like Gecko) Chrome/46.0.2490.71 Safari/537.36&apos;,</span><br><span class="line">                 &apos;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 &apos;</span><br><span class="line">                 &apos;(KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36&apos;]</span><br><span class="line"></span><br><span class="line">url_request = urllib.request.Request(pan_url)</span><br><span class="line"># url_request.add_header(&apos;User-agent&apos;, &apos;Mozilla/5.0&apos;)</span><br><span class="line">url_request.add_header(&apos;User-Agent&apos;, random.choice(UserAgentList))</span><br><span class="line">url_open = urllib.request.urlopen(url_request)</span><br><span class="line">html_doc = url_open.read().decode(&apos;utf-8&apos;)</span><br><span class="line">print(html_doc)</span><br><span class="line"></span><br><span class="line">match_obj = re.search(r&apos;title=\&apos;最末页\&apos;&gt;(\d+)&lt;/a&gt;&apos;, str(html_doc))</span><br><span class="line"></span><br><span class="line">if match_obj:</span><br><span class="line">    max_page_num = int(match_obj.group(1))</span><br><span class="line">    print(&apos;max page number: &#123;&#125;&apos;.format(max_page_num))</span><br></pre></td></tr></table></figure>
<h5 id="爬虫入门"><a href="#爬虫入门" class="headerlink" title="爬虫入门"></a>爬虫入门</h5><p><a href="http://yshblog.com/blog/148" target="_blank" rel="noopener">http://yshblog.com/blog/148</a><br><a href="http://blog.csdn.net/column/details/why-bug.html" target="_blank" rel="noopener">http://blog.csdn.net/column/details/why-bug.html</a><br><a href="http://blog.csdn.net/Eastmount/article/category/5758691" target="_blank" rel="noopener">http://blog.csdn.net/Eastmount/article/category/5758691</a><br><a href="http://zihaolucky.github.io/using-python-to-build-zhihu-cralwer/" target="_blank" rel="noopener">http://zihaolucky.github.io/using-python-to-build-zhihu-cralwer/</a><br><a href="https://www.zhihu.com/question/20899988" target="_blank" rel="noopener">https://www.zhihu.com/question/20899988</a><br><a href="https://www.zhihu.com/question/21358581" target="_blank" rel="noopener">https://www.zhihu.com/question/21358581</a><br><a href="https://segmentfault.com/a/1190000009111635" target="_blank" rel="noopener">https://segmentfault.com/a/1190000009111635</a><br><a href="http://docs.python-requests.org/zh_CN/latest/user/quickstart.html" target="_blank" rel="noopener">http://docs.python-requests.org/zh_CN/latest/user/quickstart.html</a><br><a href="http://www.cnblogs.com/yizhenfeng168/p/7078480.html" target="_blank" rel="noopener">http://www.cnblogs.com/yizhenfeng168/p/7078480.html</a></p>
<h5 id="Python爬虫技巧"><a href="#Python爬虫技巧" class="headerlink" title="Python爬虫技巧"></a>Python爬虫技巧</h5><p><a href="http://blkstone.github.io/2016/03/02/crawler-anti-anti-cheat/" target="_blank" rel="noopener">http://blkstone.github.io/2016/03/02/crawler-anti-anti-cheat/</a><br><a href="http://gohom.win/2016/01/21/proxy-py/" target="_blank" rel="noopener">http://gohom.win/2016/01/21/proxy-py/</a><br><a href="http://ningning.today/2015/10/04/python/Python%E7%88%AC%E8%99%AB%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%BB%E7%BB%93/" target="_blank" rel="noopener">http://ningning.today/2015/10/04/python/Python%E7%88%AC%E8%99%AB%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%BB%E7%BB%93/</a><br><a href="http://hamstersi.com/2017/08/Python%E7%88%AC%E8%99%AB%EF%BC%9A%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E7%9A%84%E7%88%AC%E8%99%AB%E6%8A%80%E5%B7%A7%E6%80%BB%E7%BB%93/" target="_blank" rel="noopener">http://hamstersi.com/2017/08/Python%E7%88%AC%E8%99%AB%EF%BC%9A%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E7%9A%84%E7%88%AC%E8%99%AB%E6%8A%80%E5%B7%A7%E6%80%BB%E7%BB%93/</a></p>
<p><a href="http://java.ctolib.com/hellysmile-fake-useragent.html" target="_blank" rel="noopener">http://java.ctolib.com/hellysmile-fake-useragent.html</a><br><a href="https://github.com/jhao104/proxy_pool" target="_blank" rel="noopener">https://github.com/jhao104/proxy_pool</a><br><a href="http://zqdevres.qiniucdn.com/data/20130909104216/index.html" target="_blank" rel="noopener">http://zqdevres.qiniucdn.com/data/20130909104216/index.html</a></p>
<p><a href="https://www.zhihu.com/topic/19577498" target="_blank" rel="noopener">https://www.zhihu.com/topic/19577498</a><br><a href="https://www.zhihu.com/question/35461941" target="_blank" rel="noopener">https://www.zhihu.com/question/35461941</a><br><a href="https://github.com/lining0806/PythonSpiderNotes" target="_blank" rel="noopener">https://github.com/lining0806/PythonSpiderNotes</a></p>
<h5 id="爬虫与反爬虫"><a href="#爬虫与反爬虫" class="headerlink" title="爬虫与反爬虫"></a>爬虫与反爬虫</h5><p><a href="https://zhuanlan.zhihu.com/p/20520370" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/20520370</a><br><a href="https://www.zhihu.com/question/28168585" target="_blank" rel="noopener">https://www.zhihu.com/question/28168585</a><br><a href="https://www.zhihu.com/question/26221432" target="_blank" rel="noopener">https://www.zhihu.com/question/26221432</a></p>
<h5 id="BeautifulSoup教程"><a href="#BeautifulSoup教程" class="headerlink" title="BeautifulSoup教程"></a>BeautifulSoup教程</h5><p><a href="http://beautifulsoup.readthedocs.io/zh_CN/latest/" target="_blank" rel="noopener">http://beautifulsoup.readthedocs.io/zh_CN/latest/</a><br><a href="https://www.gitbook.com/book/wizardforcel/bs4-doc/details" target="_blank" rel="noopener">https://www.gitbook.com/book/wizardforcel/bs4-doc/details</a><br><a href="https://www.crifan.com/files/doc/docbook/python_topic_beautifulsoup/release/pdf/python_topic_beautifulsoup.pdf" target="_blank" rel="noopener">https://www.crifan.com/files/doc/docbook/python_topic_beautifulsoup/release/pdf/python_topic_beautifulsoup.pdf</a><br><a href="http://www.jianshu.com/p/154211515a41" target="_blank" rel="noopener">http://www.jianshu.com/p/154211515a41</a></p>
<h5 id="Scrapy教程"><a href="#Scrapy教程" class="headerlink" title="Scrapy教程"></a>Scrapy教程</h5><p><a href="http://scrapy-chs.readthedocs.io/zh_CN/latest/index.html" target="_blank" rel="noopener">http://scrapy-chs.readthedocs.io/zh_CN/latest/index.html</a></p>
<h5 id="爬虫实战项目"><a href="#爬虫实战项目" class="headerlink" title="爬虫实战项目"></a>爬虫实战项目</h5><p><a href="http://www.jianshu.com/p/78684e5a7916" target="_blank" rel="noopener">http://www.jianshu.com/p/78684e5a7916</a><br><a href="https://zhuanlan.zhihu.com/p/25172216" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/25172216</a><br><a href="http://python.jobbole.com/88325/" target="_blank" rel="noopener">http://python.jobbole.com/88325/</a><br><a href="http://yz0515.com/2017/03/29/%E7%88%AC%E8%99%AB%E5%AE%9E%E6%88%98%E2%80%94%E2%80%94%E5%B0%86%E5%BB%96%E9%9B%AA%E5%B3%B0%E7%9A%84%E6%95%99%E7%A8%8B%E8%BD%AC%E6%8D%A2%E6%88%90PDF%E7%94%B5%E5%AD%90%E4%B9%A6/" target="_blank" rel="noopener">http://yz0515.com/2017/03/29/%E7%88%AC%E8%99%AB%E5%AE%9E%E6%88%98%E2%80%94%E2%80%94%E5%B0%86%E5%BB%96%E9%9B%AA%E5%B3%B0%E7%9A%84%E6%95%99%E7%A8%8B%E8%BD%AC%E6%8D%A2%E6%88%90PDF%E7%94%B5%E5%AD%90%E4%B9%A6/</a></p>
<h5 id="搜索引擎蜘蛛爬虫User-Agent一览"><a href="#搜索引擎蜘蛛爬虫User-Agent一览" class="headerlink" title="搜索引擎蜘蛛爬虫User Agent一览"></a>搜索引擎蜘蛛爬虫User Agent一览</h5><p><a href="http://www.wilf.cn/post/search-engine-bots.html" target="_blank" rel="noopener">http://www.wilf.cn/post/search-engine-bots.html</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br></pre></td><td class="code"><pre><span class="line">今天分析研究了两个网站的 Apache 日志，分析日志虽然很无聊，但却是很有意义的事情，比如跟踪 SPAM 的 User Agent。顺便整理出一些搜索引擎爬虫的 User Agent，在这里分享一下，也欢迎补充。</span><br><span class="line">微软</span><br><span class="line"></span><br><span class="line">“msnbot-media/1.1 (+http://search.msn.com/msnbot.htm)”</span><br><span class="line">msnbot，大多数已经被bingbot替代了，现在偶尔还可以看到。</span><br><span class="line"></span><br><span class="line">“Mozilla/5.0 (compatible; bingbot/2.0; +http://www.bing.com/bingbot.htm)”</span><br><span class="line">bing，必应</span><br><span class="line">搜搜</span><br><span class="line"></span><br><span class="line">“Sosospider+(+http://help.soso.com/webspider.htm)”</span><br><span class="line">腾讯搜搜</span><br><span class="line"></span><br><span class="line">“Sosoimagespider+(+http://help.soso.com/soso-image-spider.htm)”</span><br><span class="line">搜搜图片</span><br><span class="line">雅虎</span><br><span class="line"></span><br><span class="line">“Mozilla/5.0 (compatible; Yahoo! Slurp; http://help.yahoo.com/help/us/ysearch/slurp)”</span><br><span class="line">雅虎英文</span><br><span class="line"></span><br><span class="line">“Yahoo! Slurp China”</span><br><span class="line">“Mozilla/5.0 (compatible; Yahoo! Slurp China; http://misc.yahoo.com.cn/help.html)”</span><br><span class="line">雅虎中国</span><br><span class="line">搜狗</span><br><span class="line"></span><br><span class="line">“http://pic.sogou.com” “Sogou Pic Spider/3.0(+http://www.sogou.com/docs/help/webmasters.htm#07)”</span><br><span class="line">搜狗图片</span><br><span class="line"></span><br><span class="line">“Sogou web spider/4.0(+http://www.sogou.com/docs/help/webmasters.htm#07)”</span><br><span class="line">搜狗，搜狗的蜘蛛程序做的很不好，总是进入死循环，已经分别在 robots.txt 和 设置中屏蔽掉</span><br><span class="line"></span><br><span class="line">Google</span><br><span class="line"></span><br><span class="line">“Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)”</span><br><span class="line">Google</span><br><span class="line"></span><br><span class="line">“Googlebot-Image/1.0”</span><br><span class="line">Google图片搜索</span><br><span class="line"></span><br><span class="line">“Mediapartners-Google”</span><br><span class="line">未知</span><br><span class="line"></span><br><span class="line">“FeedBurner/1.0 (http://www.FeedBurner.com)”</span><br><span class="line">feedburner</span><br><span class="line"></span><br><span class="line">“AdsBot-Google-Mobile (+http://www.google.com/mobile/adsbot.html) Mozilla (iPhone; U; CPU iPhone OS 3 0 like Mac OS X) AppleWebKit (KHTML, like Gecko) Mobile Safari”</span><br><span class="line">Adwords移动网络</span><br><span class="line">百度</span><br><span class="line"></span><br><span class="line">“Baiduspider-image+(+http://www.baidu.com/search/spider.htm)”</span><br><span class="line">百度图片</span><br><span class="line"></span><br><span class="line">“Mozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html)”</span><br><span class="line">亲爱的百度蜘蛛</span><br><span class="line"></span><br><span class="line">“Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN; rv:1.9.2.8;baidu Transcoder) Gecko/20100722 Firefox/3.6.8 ( .NET CLR 3.5.30729)”</span><br><span class="line">baidu+Transcoder 是用户用手机浏览网站留下的记录，Transcoder 是代码转换器，把网站转码成手机用户上网看到的网页留下的记录</span><br><span class="line">360</span><br><span class="line"></span><br><span class="line">Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0); 360Spider</span><br><span class="line">360搜索</span><br><span class="line">其他搜索引擎</span><br><span class="line"></span><br><span class="line">“Mozilla/5.0 (compatible; YoudaoBot/1.0; http://www.youdao.com/help/webmaster/spider/; )”</span><br><span class="line">网易有道</span><br><span class="line"></span><br><span class="line">“Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US) Speedy Spider (http://www.entireweb.com/about/search_tech/speedy_spider/)”</span><br><span class="line">来自瑞典的搜索引擎，网站看起来很不错，http://www.entireweb.com</span><br><span class="line"></span><br><span class="line">“jikespider \”Mozilla/5.0”</span><br><span class="line">即刻搜索，原人民搜索，搜索引擎国家队，已倒闭</span><br><span class="line"></span><br><span class="line">“Mozilla/5.0 (compatible; YandexBot/3.0; +http://yandex.com/bots)”</span><br><span class="line">俄罗斯yandex</span><br><span class="line"></span><br><span class="line">Mozilla/5.0 (compatible; EasouSpider; +http://www.easou.com/search/spider.html)</span><br><span class="line">宜搜，不认识，一直不停抓取，已屏蔽</span><br><span class="line">其他已知bot</span><br><span class="line"></span><br><span class="line">“HuaweiSymantecSpider/1.0+DSE-support@huaweisymantec.com+(compatible; MSIE 7.0; Windows NT 5.1; Trident/4.0; .NET CLR 2.0.50727; .NET CLR 3.0.4506.2152; .NET CLR ; http://www.huaweisymantec.com/cn/IRL/spider)”</span><br><span class="line">华为赛门铁克蜘蛛，是华为赛门铁克科技有限公司网页信誉分析系统的一个页面爬取程序，其作用是用于爬取互联网网页并进行信誉分析，从而检查该网站上的是否含有恶意代码。</span><br><span class="line">http://baike.baidu.com/view/5994606.htm</span><br><span class="line"></span><br><span class="line">qiniu-imgstg-spider-1.0</span><br><span class="line">七牛镜像蜘蛛</span><br><span class="line"></span><br><span class="line">“xFruits/1.0 (http://www.xfruits.com)”</span><br><span class="line">xFruits，聚合rss用的</span><br><span class="line"></span><br><span class="line">Feedly/1.0 (+http://www.feedly.com/fetcher.html; like FeedFetcher-Google)</span><br><span class="line">Feedly，Google Reader 关闭后一直用这个</span><br><span class="line"></span><br><span class="line">Mozilla/5.0 (compatible;YoudaoFeedFetcher/1.0;http://www.youdao.com/help/reader/faq/topic006/;1 subscribers;)</span><br><span class="line">有道阅读</span><br><span class="line"></span><br><span class="line">FeedDemon/4.5 (http://www.feeddemon.com/; Microsoft Windows)</span><br><span class="line">一款离线RSS阅读器</span><br><span class="line"></span><br><span class="line">“Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; JianKongBao Monitor 1.1)”</span><br><span class="line">监控宝</span><br><span class="line"></span><br><span class="line">DNSPod-Monitor/2.0</span><br><span class="line">DNSPod监控</span><br><span class="line"></span><br><span class="line">“Mozilla 5.0 (compatible; Feedsky crawler /1.0; http://www.feedsky.com)”</span><br><span class="line">Feedsky</span><br><span class="line"></span><br><span class="line">“Xianguo.com 1 Subscribers”</span><br><span class="line">鲜果</span><br><span class="line"></span><br><span class="line">360spider(http://webscan.360.cn)</span><br><span class="line">360网站安全检测</span><br><span class="line"></span><br><span class="line">“yrspider Mozilla/5.0 (compatible; YRSpider; +http://www.yunrang.com/yrspider.html)”</span><br><span class="line">云壤公司，http://www.yunrang.com/yrspider.html</span><br><span class="line">其他未知bot</span><br><span class="line"></span><br><span class="line">“Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; EmbeddedWB 14.52 from: http://www.bsalsa.com/ EmbeddedWB 14.52; .NET CLR 2.0.50727)”</span><br><span class="line">怀疑为发布SPAM用的，因为总是在获取注册页面和验证码</span><br><span class="line"></span><br><span class="line">Mozilla/5.0 (compatible; LinkpadBot/1.06; +http://www.linkpad.ru)</span><br><span class="line">LinkpadBot，看域名知道是来自俄罗斯的</span><br><span class="line"></span><br><span class="line">Mozilla/5.0 (compatible; SISTRIX Crawler; http://crawler.sistrix.net/)</span><br><span class="line">又一个国外的</span><br><span class="line"></span><br><span class="line">“Mozilla/5.0 (compatible; MJ12bot/v1.4.0; http://www.majestic12.co.uk/bot.php?+)”</span><br><span class="line">来自英国的未知bot</span><br><span class="line"></span><br><span class="line">“Mozilla/5.0 (compatible; Ezooms/1.0; ezooms.bot@gmail.com)”</span><br><span class="line">未知</span><br><span class="line"></span><br><span class="line">“IS Alpha/Nutch-1.1”</span><br><span class="line">未知</span><br><span class="line"></span><br><span class="line">Nutch Spider/Nutch-2.2.1</span><br><span class="line">貌似是上面那个进化来的</span><br><span class="line"></span><br><span class="line">“BlogPulseLive (support@blogpulse.com)”</span><br><span class="line"></span><br><span class="line">“findlinks/2.0.2 (+http://wortschatz.uni-leipzig.de/findlinks/)”</span><br><span class="line">来自德国的未知bot</span><br><span class="line"></span><br><span class="line">“Mozilla/4.0 (compatible; MSIE 6.0; AugustBot/augstbot@163.com)”</span><br><span class="line">未知，貌似与网易有关</span><br><span class="line"></span><br><span class="line">“InternetSeer.com”</span><br><span class="line">未知</span><br><span class="line"></span><br><span class="line">“Mozilla/5.0 (compatible; DotBot/1.1; http://www.dotnetdotcom.org/, crawler@dotnetdotcom.org)”</span><br><span class="line">未知，已更新为下面的</span><br><span class="line"></span><br><span class="line">Mozilla/5.0 (compatible; DotBot/1.1; http://www.opensiteexplorer.org/dotbot, help@moz.com)</span><br><span class="line">DotBot，不认识</span><br><span class="line"></span><br><span class="line">“http://www.internet-zarabotok.net/” “Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.2; Win64; AMD64)”</span><br><span class="line">来自俄罗斯的未知bot</span><br><span class="line"></span><br><span class="line">Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.0.19; aggregator:Spinn3r (Spinn3r 3.1); http://spinn3r.com/robot) Gecko/2010040121 Firefox/3.0.19</span><br><span class="line">Spinn3r，不认识</span><br><span class="line"></span><br><span class="line">Mozilla/5.0 (compatible; Exabot/3.0; +http://www.exabot.com/go/robot)</span><br><span class="line">Exabot，还是不认识</span><br><span class="line"></span><br><span class="line">Mozilla/5.0 (compatible; Exabot/3.0 (BiggerBetter); +http://www.exabot.com/go/robot)</span><br><span class="line">Exabot，不认识</span><br><span class="line"></span><br><span class="line">psbot/0.1 (+http://www.picsearch.com/bot.html)</span><br><span class="line">psbot，不认识</span><br><span class="line"></span><br><span class="line">TurnitinBot/3.0 (http://www.turnitin.com/robot/crawlerinfo.html)</span><br><span class="line">TurnitinBot，不认识</span><br></pre></td></tr></table></figure></p>
<h5 id="爬虫与正则表达式"><a href="#爬虫与正则表达式" class="headerlink" title="爬虫与正则表达式"></a>爬虫与正则表达式</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">import re</span><br><span class="line">import urllib.request</span><br><span class="line"></span><br><span class="line">pan_url = &apos;http://mebook.cc/download.php?id=6064&apos;</span><br><span class="line">pan_url = &apos;http://mebook.cc/6064.html&apos;</span><br><span class="line">pan_url = &apos;http://mebook.cc/download.php?id=7456&apos;</span><br><span class="line"></span><br><span class="line">url_request = urllib.request.Request(pan_url)</span><br><span class="line">url_request.add_header(&apos;User-agent&apos;, &apos;Mozilla/5.0&apos;)</span><br><span class="line">url_open = urllib.request.urlopen(url_request)</span><br><span class="line">html_doc = url_open.read().decode(&apos;utf-8&apos;)</span><br><span class="line">print(html_doc)</span><br><span class="line"></span><br><span class="line">match_obj = re.search(r&apos;下载列表\s*：\s*&lt;a\s*href=\&quot;\s*(http[s]*://pan.baidu.com/s/\w+)\s*\w*\&quot;\s*target=\&quot;\w+\&quot;&gt;百度网盘&apos;, html_doc)</span><br><span class="line">print(match_obj.group(1))</span><br><span class="line"></span><br><span class="line">match_obj = re.search(r&apos;网盘密码\s*：\s*百度网盘密码\s*：\s*[密码: ]*\s*(\w&#123;4&#125;)&apos;, html_doc)</span><br><span class="line">print(match_obj.group(1))</span><br><span class="line"></span><br><span class="line">html_doc = &apos;&apos;&apos;&lt;div class=&quot;desc&quot;&gt;</span><br><span class="line">&lt;h3&gt;下载文件资源信息&lt;/h3&gt;</span><br><span class="line">&lt;p&gt;文件名称：《徐志摩全集(1-6)(套装共6册) 》&lt;/p&gt;</span><br><span class="line">&lt;p&gt;文件大小：&lt;/p&gt;</span><br><span class="line">&lt;p&gt;适用版本：&lt;/p&gt;</span><br><span class="line">&lt;p&gt;更新日期：2016.8.27&lt;/p&gt;</span><br><span class="line">&lt;p&gt;作者信息：&lt;/p&gt;</span><br><span class="line">&lt;p&gt;网盘密码：百度网盘密码：密码: kdus&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/p&gt;</span><br><span class="line">&lt;p&gt;&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;list&quot;&gt;</span><br><span class="line">        下载列表：&lt;a href=&quot;https://pan.baidu.com/s/1bpgIMNP &quot; target=&quot;_blank&quot;&gt;百度网盘&lt;/a&gt;&lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;div class=&quot;desc&quot; style=&quot;border:none&quot;&gt;&apos;&apos;&apos;</span><br><span class="line"># html_doc = &apos;&lt;p&gt;网盘密码：百度网盘密码：密码：kdus&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/p&gt;&apos;</span><br><span class="line"># match_obj = re.search(r&apos;网盘密码\s*：\s*百度网盘密码\s*：\s*(?:密码: )?\s*(\w&#123;4&#125;)&apos;, html_doc)</span><br><span class="line"># match_obj = re.search(r&apos;网盘密码\s*：\s*百度网盘密码\s*：\s*(?:密码)?(?:：|:)?\s*(\w&#123;4&#125;)&apos;, html_doc)</span><br><span class="line">match_obj = re.search(r&apos;网盘密码\s*：\s*百度网盘密码\s*：\s*(?:密码)?[：|:]?\s*(\w&#123;4&#125;)&apos;, html_doc)</span><br><span class="line">print(match_obj.group(1))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">html_doc = &apos;&apos;&apos;&lt;div id=&quot;content&quot;&gt;</span><br><span class="line">&lt;p&gt;&lt;img src=&quot;http://mebook.cc/wp-content/uploads/2016/11/36381479124678.jpg&quot;/&gt;&lt;/p&gt;</span><br><span class="line">&lt;h2&gt;内容简介：&lt;/h2&gt;</span><br><span class="line">&lt;p&gt;&lt;span style=&quot;font-family: 微软雅黑, &amp;#39;Microsoft YaHei&amp;#39;; font-size: 18px;&quot;&gt;诞生于1000年前日本平安时代的《源氏物语(插图典藏版)》，是世界上最早的小说。它以一种贵族化的华丽、唯美，以及史学家般的恢弘，向我们讲述了一段流传千年、以源氏为主的四代人与众多女子的伤感爱情故事，也展开了一幅平安时代的社会风貌、自然景观和贵族们华丽奢靡的生活画卷，体现出日本民族特有的“物哀”之美。同时，书中选用了《源氏物语绘卷》《洛中洛外图屏风》等众多日本国宝级绘画作品，并运用现代图解手法，生动地展示了那个时代的风情风貌，以及那些不为人知的、隐藏的细节，使读者能够更深入地了解一个与现代不同的日本。&lt;/span&gt;&lt;/p&gt;</span><br><span class="line">&lt;p&gt;&lt;span style=&quot;font-family: 微软雅黑, &amp;#39;Microsoft YaHei&amp;#39;; font-size: 18px;&quot;&gt;[idl id=下载 t=进入下载列表]&lt;a href=&quot;http://pan.baidu.com/s/1hsLUkhY&quot; target=&quot;_blank&quot;&gt;百度网盘&lt;/a&gt;(提取码：rmsi)|&lt;a href=&quot;http://download.cloud.189.cn/v5/downloadFile.action?downloadRequest=1_DBD790DAAC93CCAFFC32C4D1AC385C2CC3947B6342479BEEFD9C8105E0F42593335F37FA44DC4DE096F07C8FE03C54B6F3C27AA2EF0E1F741A19AC1041846A2D15D8907CAE136C593799EAC0BC6FFD23B3974CCC71127CBFB1563C480600C2566BA31E04509A3E67B9D8CDC67E43C7D244633840C56683FA3CD3CB359E6589552A610603&quot; target=&quot;_self&quot;&gt;epub&lt;/a&gt;|&lt;a href=&quot;http://download.cloud.189.cn/v5/downloadFile.action?downloadRequest=1_7D6AC6D1567CB47A3D81EF4E0795625DBE5FDA234F8A6F5CF0428E655D70F19272827A99613C765C4691F736CFD067EBFF08D69E6992677244703C204C8599398EC2AE3EA92232060720D49147FD21EF300134FFAAB534BB8E3B9FC378014D2F6B0A7D8936987E8E44741F38D816A113458C140FF816DCA83A1FAFE477DDFFD935A72EE6&quot; target=&quot;_self&quot;&gt;mobi&lt;/a&gt;|&lt;a href=&quot;http://download.cloud.189.cn/v5/downloadFile.action?downloadRequest=1_B9B57AB5491EB66A3C4C5E16956D1AE4673ED6E339D215CF9A864D16D2AF22DC0E6E4CCC1DC2046931D5D686783C168C92B074238D4C9A0C3CE637ADDFEAD002D9F4E160FB96E30D485579930FFF2FECBA27C656DB4C79B54EBA45CDD887FFFAB9AF695B4367C20F087D816FF17B72AD9C90050AC8F885B8B3CFE9E5C2CEC6FAED7645B6&quot; target=&quot;_self&quot;&gt;azw3&lt;/a&gt;|&lt;a href=&quot;http://cloud.189.cn/t/q6zuAzBriq6n&quot; target=&quot;_blank&quot;&gt;天翼云盘&lt;/a&gt;(访问码:6425)[/idl]&lt;/span&gt;&lt;/p&gt;</span><br><span class="line">&lt;p&gt;&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;&apos;&apos;&apos;</span><br><span class="line"></span><br><span class="line">html_doc = &apos;&apos;&apos;&lt;p&gt;&lt;span style=&quot;font-family: 微软雅黑, &amp;quot;Microsoft YaHei&amp;quot;; font-size: 18px;&quot;&gt;[idl id=下载 t=进入下载列表]&lt;a href=&quot;http://pan.baidu.com/s/1pLIrTSB&quot; target=&quot;_blank&quot; style=&quot;color: rgb(84, 141, 212); text-decoration: underline;&quot;&gt;&lt;span style=&quot;font-family: 微软雅黑, &amp;quot;Microsoft YaHei&amp;quot;; font-size: 18px; color: rgb(84, 141, 212);&quot;&gt;百度网盘&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;font-family: 微软雅黑, &amp;quot;Microsoft YaHei&amp;quot;; font-size: 18px; color: rgb(84, 141, 212);&quot;&gt;(提取码：7uwd)|&lt;/span&gt;&lt;a href=&quot;http://download.cloud.189.cn/v5/downloadFile.action?downloadRequest=1_F7C626497FD27A70D2852700C441DC1250B7EBCC9B4E838AD4D02332611E2AF8F60DF399B7605D56DDE7D9D60AF747412D9DB70FEAB95AD98C67BC2F83F8F905CCED31D94FE64C1E3DF6B54BDFC82BE1CFA4DF7018C609002BA2B385C2E9C2367D4757537587980D661501C4A5817524DD1251B9B423D7BD83FC771CED435C2D96F435E0&quot; target=&quot;_self&quot; style=&quot;color: rgb(84, 141, 212); text-decoration: underline;&quot;&gt;&lt;span style=&quot;font-family: 微软雅黑, &amp;quot;Microsoft YaHei&amp;quot;; font-size: 18px; color: rgb(84, 141, 212);&quot;&gt;epub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;font-family: 微软雅黑, &amp;quot;Microsoft YaHei&amp;quot;; font-size: 18px; color: rgb(84, 141, 212);&quot;&gt;|&lt;/span&gt;&lt;a href=&quot;http://download.cloud.189.cn/v5/downloadFile.action?downloadRequest=1_A123400A335DD70D3BCDAA76491AD90030AE4F1B12ED0ED8E4C127720F7372D2DC3EF08C3781258DB2A0032B126AF9E1B4CF3B4C8DCFB45EE856B19A8D20C6FB59013C38DF1CDE9CC93DAF79BCDD6D681BEB71E15F81C8267B5E42229E88A4304E3EB2693E1DA97264EFD98B1811888657FC127D187C3D530D8F9096514DEA9A9B6FD965&quot; target=&quot;_self&quot; style=&quot;color: rgb(84, 141, 212); text-decoration: underline;&quot;&gt;&lt;span style=&quot;font-family: 微软雅黑, &amp;quot;Microsoft YaHei&amp;quot;; font-size: 18px; color: rgb(84, 141, 212);&quot;&gt;mobi&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;font-family: 微软雅黑, &amp;quot;Microsoft YaHei&amp;quot;; font-size: 18px; color: rgb(84, 141, 212);&quot;&gt;|&lt;/span&gt;&lt;a href=&quot;http://download.cloud.189.cn/v5/downloadFile.action?downloadRequest=1_CF93663014530A9A4744DB3208C6791939D4953FC7ED1DE1AC1E915F905A572A186DBC4B9E1047832FE06CC45652457FE21A97CAF7026492561ADA2AE6B8A4180FF95C25190EB5FB588F864A2E3654B716733B470C9706A7596345B1B67C5D0F98E9FEC57A5AB8CE1E96C1EABE687F3EF4DAC5B4A57AC295CDA689DCB4B7A0E1C953DCC2&quot; target=&quot;_self&quot; style=&quot;color: rgb(84, 141, 212); text-decoration: underline;&quot;&gt;&lt;span style=&quot;font-family: 微软雅黑, &amp;quot;Microsoft YaHei&amp;quot;; font-size: 18px; color: rgb(84, 141, 212);&quot;&gt;azw3&lt;/span&gt;&lt;/a&gt;[/idl]&lt;/span&gt;&lt;/p&gt;</span><br><span class="line">&lt;p&gt;&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;&apos;&apos;&apos;</span><br><span class="line"></span><br><span class="line">match_obj = re.search(r&apos;\&quot;(http[s]*://pan.baidu.com/s/\w+)\s*\w*\&quot;\s*target=\&quot;\w+\&quot;&apos;, html_doc)</span><br><span class="line">print(match_obj.group(1))</span><br><span class="line"></span><br><span class="line">match_obj = re.search(r&apos;提取码\s*：\s*(\w&#123;4&#125;)&apos;, html_doc)</span><br><span class="line">print(match_obj.group(1))</span><br></pre></td></tr></table></figure></ol>
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Python/" rel="tag"># Python</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/06/11/pycharm-usage/" rel="next" title="pycharm使用问题记录">
                <i class="fa fa-chevron-left"></i> pycharm使用问题记录
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/06/11/python-usage-example/" rel="prev" title="Python使用示例">
                Python使用示例 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Hogan Chen</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">29</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">11</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-5"><a class="nav-link" href="#常用User-Agent"><span class="nav-number">1.</span> <span class="nav-text">常用User Agent</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Urllib库详解"><span class="nav-number">2.</span> <span class="nav-text">Urllib库详解</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#简单爬虫"><span class="nav-number">3.</span> <span class="nav-text">简单爬虫</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#爬虫入门"><span class="nav-number">4.</span> <span class="nav-text">爬虫入门</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Python爬虫技巧"><span class="nav-number">5.</span> <span class="nav-text">Python爬虫技巧</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#爬虫与反爬虫"><span class="nav-number">6.</span> <span class="nav-text">爬虫与反爬虫</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#BeautifulSoup教程"><span class="nav-number">7.</span> <span class="nav-text">BeautifulSoup教程</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Scrapy教程"><span class="nav-number">8.</span> <span class="nav-text">Scrapy教程</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#爬虫实战项目"><span class="nav-number">9.</span> <span class="nav-text">爬虫实战项目</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#搜索引擎蜘蛛爬虫User-Agent一览"><span class="nav-number">10.</span> <span class="nav-text">搜索引擎蜘蛛爬虫User Agent一览</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#爬虫与正则表达式"><span class="nav-number">11.</span> <span class="nav-text">爬虫与正则表达式</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Hogan Chen</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
